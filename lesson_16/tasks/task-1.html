<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../css/style.css">
  <title>JavaScript Course</title>
</head>

<body>
  <h1>Задача #1</h1>
  <p>
    Створити клас TDate для роботи із датами у форматі “день.місяць.рік”.
    Дата представляється структурою із трьома полями.
    Реалізувати методи збільшення/зменшення дати на певну кількість днів, місяців чи років.
    Введення та виведення дати реалізувати за допомогою методу toString.
  </p>


  <script>
    class TDate {
  constructor(initialDay, initialMonth, initialYear) {
    this.day = initialDay;
    this.month = initialMonth;
    this.year = initialYear;
    this.correctDate();
  }

  isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
  }

  correctDate() {
    const daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

    if (this.isLeapYear(this.year)) {
      daysInMonth[1] = 29;
    }

    while (this.day > daysInMonth[(this.month - 1) % 12]) {
      this.day -= daysInMonth[(this.month - 1) % 12];
      this.month++;
    }

    while (this.day < 1) {
      this.month--;
      if (this.month < 1) {
        this.month = 12;
        this.year--;
      }
      this.day += daysInMonth[(this.month - 1) % 12];
    }

    while (this.month > 12) {
      this.month -= 12;
      this.year++;
    }

    while (this.month < 1) {
      this.month += 12;
      this.year--;
    }
  }

  increaseDay() {
    this.day++;
    this.correctDate();
  }

  decreaseDay() {
    this.day--;
    this.correctDate();
  }

  increaseMonth() {
    this.month++;
    this.correctDate();
  }

  decreaseMonth() {
    this.month--;
    this.correctDate();
  }

  increaseYear() {
    this.year++;
  }

  decreaseYear() {
    this.year--;
  }

  toString() {
    return `<br> ${this.day} / ${this.month} / ${this.year}`;
  }
}

const date1 = new TDate(123, 10, 2000);
document.write(date1);


  </script>

</body>

</html>